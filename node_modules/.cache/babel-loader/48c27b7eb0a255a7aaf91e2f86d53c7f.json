{"ast":null,"code":"import _defineProperty from\"/Users/umamageswari/Documents/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/umamageswari/Documents/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/umamageswari/Documents/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{nanoid}from'nanoid';import axios from'axios';export var getUserAsync=createAsyncThunk('user/getUserAsync',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://users-list-app.herokuapp.com/user');case 3:response=_context.sent;console.log(response);_context.next=7;return response.data;case 7:user=_context.sent;return _context.abrupt(\"return\",{user:user});case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);})));export var addUserAsync=createAsyncThunk('user/addUserAsync',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload){var response,user;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios({method:'post',url:'https://users-list-app.herokuapp.com/user',data:{name:payload.name,email:payload.email,address:payload.address,phoneNumber:payload.phoneNumber}});case 3:response=_context2.sent;_context2.next=6;return response.data;case 6:user=_context2.sent;return _context2.abrupt(\"return\",{user:user});case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x){return _ref2.apply(this,arguments);};}());export var deleteUserAsync=createAsyncThunk('user/deleteUserAsync',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(payload){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"https://users-list-app.herokuapp.com/user/\".concat(payload.id),{method:'delete'});case 2:response=_context3.sent;return _context3.abrupt(\"return\",{id:payload.id});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());var userSlice=createSlice({name:'userData',initialState:[],reducers:{addUser:function addUser(state,action){var _action$payload=action.payload,name=_action$payload.name,email=_action$payload.email,address=_action$payload.address,phoneNumber=_action$payload.phoneNumber;var newUser={id:nanoid(),name:name,email:email,address:address,phoneNumber:phoneNumber};console.log(newUser);state.push(newUser);},deleteUser:function deleteUser(state,action){console.log(action.payload.id);return state.filter(function(user){return user.id!==action.payload.id;});}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getUserAsync.pending,function(state,action){console.log(\"fetching data...\");}),_defineProperty(_extraReducers,getUserAsync.fulfilled,function(state,action){console.log(\"fetched data succesfully\");return action.payload.user;}),_defineProperty(_extraReducers,addUserAsync.fulfilled,function(state,action){state.push(action.payload.user);}),_defineProperty(_extraReducers,deleteUserAsync.fulfilled,function(state,action){return state.filter(function(user){return user.id!==action.payload.id;});}),_extraReducers)});var _userSlice$actions=userSlice.actions,addUser=_userSlice$actions.addUser,deleteUser=_userSlice$actions.deleteUser;export{addUser,deleteUser};export default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","nanoid","axios","getUserAsync","get","response","console","log","data","user","error","addUserAsync","payload","method","url","name","email","address","phoneNumber","deleteUserAsync","delete","id","userSlice","initialState","reducers","addUser","state","action","newUser","push","deleteUser","filter","extraReducers","pending","fulfilled","actions","reducer"],"sources":["/Users/umamageswari/Documents/React/Users-list-react-redux-app/my-react-app/userslist-redux-app/src/store/users/UserSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport {nanoid} from 'nanoid';\nimport axios from 'axios';\n\nexport const getUserAsync = createAsyncThunk(\n    'user/getUserAsync',\n    async () => {\n        try {\n            const response = await axios.get('https://users-list-app.herokuapp.com/user');\n            console.log(response);\n            const user = await response.data;\n            return { user };\n          } catch (error) {\n            console.error(error);\n          }\n    }\n)\n\nexport const addUserAsync = createAsyncThunk(\n  'user/addUserAsync',\n  async (payload) => {\n    try{\n      const response = await axios({\n        method: 'post',\n        url: 'https://users-list-app.herokuapp.com/user',\n        data: {\n          name: payload.name,\n          email: payload.email,\n          address: payload.address,\n          phoneNumber: payload.phoneNumber\n        }\n      })\n      const user = await response.data;\n      return { user };\n    } catch (error) {\n      console.error(error);\n    }       \n  }\n)\n\nexport const deleteUserAsync = createAsyncThunk(\n\t'user/deleteUserAsync',\n\tasync (payload) => {\n\t\tconst response = await axios.delete(`https://users-list-app.herokuapp.com/user/${payload.id}`, {\n\t\t\tmethod: 'delete',\n\t\t});\n\t\treturn { id: payload.id };\n\t}\n);\n\nconst userSlice = createSlice({\n    name: 'userData',\n    initialState: [],\n    reducers: {\n     addUser: (state, action) => {\n        const { name, email, address, phoneNumber } = action.payload;\n        const newUser = {\n            id: nanoid(),\n            name,\n            email,\n            address,\n            phoneNumber\n        }\n        console.log(newUser);\n        state.push(newUser);\n     },\n     deleteUser: (state, action) => {\n        console.log(action.payload.id)\n        return state.filter(user => user.id !== action.payload.id);\n     }\n    },\n    extraReducers: {\n      [getUserAsync.pending]: (state, action) => {\n        console.log(\"fetching data...\");\n      },\n      [getUserAsync.fulfilled]: (state, action) => {\n        console.log(\"fetched data succesfully\");\n        return action.payload.user;\n      },\n      [addUserAsync.fulfilled]: (state, action) =>{\n        state.push(action.payload.user);\n      },\n      [deleteUserAsync.fulfilled]: (state, action) => {\n        return state.filter((user) => user.id !== action.payload.id);\n      },\n     }\n  })\n  \n  export const { addUser, deleteUser } = userSlice.actions;\n  export default userSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}